!function(){"use strict";class e{createImg(){const e=document.querySelector(".images"),t=document.createElement("div");t.classList.add("img-box"),e.appendChild(t);const i=document.createElement("button");return i.classList.add("btn-img"),i.textContent="X",t.appendChild(i),t}}(new class{constructor(){this.container=document.querySelector(".container"),this.form=this.container.querySelector(".form"),this.images=this.container.querySelector(".images"),this.labelUrl=this.container.querySelector(".label-url"),this.input=this.labelUrl.querySelector(".form-input")}init(){this.form.addEventListener("submit",(e=>this.onSubmit(e))),this.images.addEventListener("click",(e=>this.removeImg(e))),this.input.addEventListener("input",(e=>this.onInput(e)))}onSubmit(t){t.preventDefault(),this.creatImage=new e;const i=document.createElement("img");i.src=this.form.url.value,i.alt=this.form.imgname.value,i.onload=()=>{this.creatElem=this.creatImage.createImg(),this.creatElem.append(i),this.form.reset(),this.removeMistake()},i.onerror=()=>{this.addMistake(this.labelUrl,"Неверный URL изображения")}}onInput(e){""===e.target.value&&this.removeMistake()}addMistake(e,t){const i=`\n              <div class="mistake">${t}</div>\n             `;e.insertAdjacentHTML("beforeend",i)}removeImg(e){e.target.classList.contains("btn-img")&&e.target.closest(".img-box").remove()}removeMistake(){const e=this.container.querySelector(".mistake");e&&e.remove()}}).init()}();